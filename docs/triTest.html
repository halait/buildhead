<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" contents="width=device-width, initial-scale=1">
		<title>Tri Test</title>
		<style>
			*{
				margin: 0;
				padding: 0;
			}
			#c{
				//background-color: black;
			}
			#m{
				white-space: pre;
			}
		</style>
	</head>
	<body>
		<canvas height="600" width="600" id="c"></canvas>

		<div id="m"></div>

	</body>
	<script>
		let canvas = document.getElementById("c");
		let c = canvas.getContext("2d");
		c.scale(1, -1);
		c.translate(0, -600);
		
		let p0 = [200, 0];
		let p1 = [600, 0];

		let p2 = [0, 550];

		let base = p1[0] - p0[0];
		let height = p2[1] - p0[1];

		let sm = [(p0[1] - p2[1]) / (p0[0] - p2[0]), (p1[1] - p2[1]) / (p1[0] - p2[0])];
		let sb = [p0[1] - sm[0] * p0[0], p1[1] - sm[1] * p1[0]];

		function s(n, y){
			return Math.round((y - sb[n]) / sm[n]);
		}
		let m = document.getElementById("m");

		canvas.addEventListener("mousemove", (e) => {
			let mx = e.offsetX;
			let my = 600 - e.offsetY;
			m.textContent = " mx: " + mx + "  my: " + my;
			let s0x = s(0, my);
			m.textContent += "\n s0x: " + s0x + " s0y: " + my;
			let s1x = s(1, my);
			m.textContent += "\n s1x: " + s1x + " s0y: " + my;
			let ph = Math.round(my / height * 100);
			m.textContent += "\n height from base: " + ph + "%";
			let wb = Math.round((s1x - s0x) / base * 100);
			m.textContent += "\n percent width of base: " + wb + "%";
			m.textContent += "\n height + percent width of base: " + (ph + wb) + "%";
		});

		c.moveTo(p0[0], p0[1]);
		c.lineTo(p1[0], p1[1]);
		c.lineTo(p2[0], p2[1]);
		c.closePath();
		c.fill();
	</script>
</html>